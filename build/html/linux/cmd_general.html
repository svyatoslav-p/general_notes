<!DOCTYPE html>
<html class="writer-html5" lang="ru" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CMD &mdash; документация Общие заметки 1</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/read_the_docs_conf.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/translations.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Алфавитный указатель" href="../genindex.html" />
    <link rel="search" title="Поиск" href="../search.html" />
    <link rel="next" title="Manjaro" href="manjaro.html" />
    <link rel="prev" title="Linux" href="_list.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Поиск в документации" aria-label="Поиск в документации" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Меню навигации">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="_list.html">Linux</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">CMD</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Системная информация</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Файлы и каталоги</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Поиск файлов</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">Работа с файловыми системами,дисками</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pacman-yaourt">Pacman, Yaourt</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Сеть</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ssh">SSH</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iptables">Iptables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#journalctl">Journalctl</a></li>
<li class="toctree-l3"><a class="reference internal" href="#systemctl">Systemctl</a></li>
<li class="toctree-l3"><a class="reference internal" href="#system-v">System V</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ntp">NTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rsync">RSync</a></li>
<li class="toctree-l3"><a class="reference internal" href="#samba">Samba</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">Пользователи и группы</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">Права на файлы</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">Архивация и сжатие файлов</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">Манипуляции с текстом</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">Создание резервных копий</a></li>
<li class="toctree-l3"><a class="reference internal" href="#docker">Docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="#midnight-commander">Midnight Commander</a></li>
<li class="toctree-l3"><a class="reference internal" href="#git">GIT</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wireguard-pivpn">WireGuard + PiVPN</a></li>
<li class="toctree-l3"><a class="reference internal" href="#virsh-qemu">Virsh, QEMU</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="manjaro.html">Manjaro</a></li>
<li class="toctree-l2"><a class="reference internal" href="ubuntu.html">Ubuntu</a></li>
<li class="toctree-l2"><a class="reference internal" href="certs.html">Сертификаты</a></li>
<li class="toctree-l2"><a class="reference internal" href="gitlab.html">GitLab</a></li>
<li class="toctree-l2"><a class="reference internal" href="vpn.html">VPN</a></li>
<li class="toctree-l2"><a class="reference internal" href="ldap.html">LDAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="lvm_and_raid.html">LVM and RAID</a></li>
<li class="toctree-l2"><a class="reference internal" href="kvm.html">KVM</a></li>
<li class="toctree-l2"><a class="reference internal" href="redmine.html">Redmine</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../programming/_list.html">Программирование</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/_list.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uonmap/_list.html">UonMap</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Меню навигации для мобильных устройств" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Общие заметки</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Навигация по страницам">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="_list.html">Linux</a></li>
      <li class="breadcrumb-item active">CMD</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/linux/cmd_general.rst.txt" rel="nofollow"> Просмотреть исходный код страницы</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cmd">
<h1>CMD<a class="headerlink" href="#cmd" title="Permalink to this heading"></a></h1>
<section id="id1">
<h2>Системная информация<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">hostnamectl</span></code></p></td>
<td><p>информация о системе</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">hostnamectl</span> <span class="pre">set-hostname</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>изменить имя host-а</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">/proc/cpuinfo</span></code></p></td>
<td><p>информация о процессоре</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lsb_release</span> <span class="pre">-a</span></code></p></td>
<td><p>версия дистрибутива</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">/proc/cmdline</span></code></p></td>
<td><p>параметры запуска ядра</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lspci</span> <span class="pre">-vt</span></code></p></td>
<td><p>устройства на PCI шине</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">lsusb</span> <span class="pre">-vt</span></code></p></td>
<td><p>устройства на USB шине</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">last</span> <span class="pre">reboot</span></code></p></td>
<td><p>последняя перезагрузка</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">lsmod</span></code></p></td>
<td><p>вывести загруженные модули ядра</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pstree</span></code></p></td>
<td><p>дерево процессов</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id2">
<h2>Файлы и каталоги<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mkdir</span> <span class="pre">-p</span> <span class="pre">/tmp/dir1/dir2</span></code></p></td>
<td><p>создать дерево директорий</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">..</span></code></p></td>
<td><p>перейти в директорию уровнем выше</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">../..</span></code></p></td>
<td><p>перейти в директорию двумя уровнями выше</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">-</span></code></p></td>
<td><p>перейти в директорию, в которой находились до перехода в текущую директорию</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">dir/*</span></code></p></td>
<td><p>копировать директорию <code class="docutils literal notranslate"><span class="pre">dir1</span></code> со всем содержимым в текущую директорию</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">-a</span> <span class="pre">/tmp/dir1</span></code></p></td>
<td><p>копировать директорию <code class="docutils literal notranslate"><span class="pre">dir1</span></code> со всем содержимым в текущую директорию</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">-a</span> <span class="pre">dir1</span> <span class="pre">dir2</span></code></p></td>
<td><p>копировать директорию <code class="docutils literal notranslate"><span class="pre">dir1</span></code> в директорию <code class="docutils literal notranslate"><span class="pre">dir2</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">file</span> <span class="pre">file1</span></code></p></td>
<td><p>скопировать файл <code class="docutils literal notranslate"><span class="pre">file1</span></code> в файл <code class="docutils literal notranslate"><span class="pre">file2</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ln</span> <span class="pre">-s</span> <span class="pre">file1</span> <span class="pre">lnk1</span></code></p></td>
<td><p>создать символическую ссылку на файл или директорию</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ln</span> <span class="pre">file1</span> <span class="pre">lnk1</span></code></p></td>
<td><p>создать жёсткую (физическую) ссылку на файл или директорию</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mkdir</span> <span class="pre">dir1</span></code></p></td>
<td><p>создать директорию с именем <code class="docutils literal notranslate"><span class="pre">dir1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mkdir</span> <span class="pre">dir1</span> <span class="pre">dir2</span></code></p></td>
<td><p>создать две директории одновременно</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mkdir</span> <span class="pre">-p</span> <span class="pre">/tmp/dir1/dir2</span></code></p></td>
<td><p>создать дерево директорий</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mv</span> <span class="pre">dir1</span> <span class="pre">new_dir</span></code></p></td>
<td><p>переименовать или переместить файл или директорию</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pwd</span></code></p></td>
<td><p>показать текущую директорию</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">-f</span> <span class="pre">file1</span></code></p></td>
<td><p>удалить файл с именем <code class="docutils literal notranslate"><span class="pre">file1</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">-rf</span> <span class="pre">dir1</span></code></p></td>
<td><p>удалить директорию с именем <code class="docutils literal notranslate"><span class="pre">dir1</span></code> и рекурсивно всё её содержимое</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">-rf</span> <span class="pre">dir1</span> <span class="pre">dir2</span></code></p></td>
<td><p>удалить две директории и рекурсивно их содержимое</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rmdir</span> <span class="pre">dir1</span></code></p></td>
<td><p>удалить директорию с именем <code class="docutils literal notranslate"><span class="pre">dir1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">touch</span> <span class="pre">-t</span> <span class="pre">0712250000</span> <span class="pre">file1</span></code></p></td>
<td><p>модифицировать дату и время создания файла (YYMMDDhhmm)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">gpg</span> <span class="pre">-c</span> <span class="pre">file</span></code></p></td>
<td><p>зашифровать файл</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">gpg</span> <span class="pre">-d</span> <span class="pre">file.gpg</span></code></p></td>
<td><p>дешифровать файл</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">split</span> <span class="pre">-a</span> <span class="pre">2</span> <span class="pre">-d</span> <span class="pre">-b</span> <span class="pre">4000M</span> <span class="pre">sample.iso</span> <span class="pre">sample.iso.part</span></code></p></td>
<td><p>Разбить файл sample.iso на части по 4 Гб</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">sample.iso.part*</span> <span class="pre">&gt;</span> <span class="pre">sample.iso</span></code></p></td>
<td><p>Собрать файл sample.iso из частей sample.iso.part*</p></td>
</tr>
</tbody>
</table>
<section id="id3">
<h3>Расширенные команды<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h3>
<ol class="arabic">
<li><p>Шифрование GPG</p>
<div class="line-block">
<div class="line">* <code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">&quot;PASS&quot;</span> <span class="pre">|</span> <span class="pre">gpg</span> <span class="pre">-c</span> <span class="pre">--batch</span> <span class="pre">--passphrase-fd</span> <span class="pre">0</span> <span class="pre">FILE</span></code> Зашифровать FILE паролем PASS             |</div>
<div class="line">* <code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">&quot;PASS&quot;</span> <span class="pre">|</span> <span class="pre">gpg</span> <span class="pre">--batch</span> <span class="pre">--passphrase-fd</span> <span class="pre">0</span> <span class="pre">--decrypt-file</span> <span class="pre">FILE</span></code> Дешифровать FILE паролем PASS |</div>
</div>
</li>
</ol>
</section>
</section>
<section id="id4">
<h2>Поиск файлов<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">find</span> <span class="pre">/</span> <span class="pre">-name</span> <span class="pre">file1</span></code></p></td>
<td><p>найти файлы и директории с именем <code class="docutils literal notranslate"><span class="pre">file1</span></code>. Поиск начать с корня (/)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">find</span> <span class="pre">/home/user1</span> <span class="pre">-name</span> <span class="pre">\*.bin</span></code></p></td>
<td><p>найти все файлы и директории, имена которых оканчиваются на <code class="docutils literal notranslate"><span class="pre">.</span> <span class="pre">bin</span></code>. Поиск начать с <code class="docutils literal notranslate"><span class="pre">/</span> <span class="pre">home/user1</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">find</span> <span class="pre">/usr/bin</span> <span class="pre">-type</span> <span class="pre">f</span> <span class="pre">-atime</span> <span class="pre">+100</span></code></p></td>
<td><p>найти все файлы в <code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code>, время последнего обращения к которым более 100 дней</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">find</span> <span class="pre">/usr/bin</span> <span class="pre">-type</span> <span class="pre">f</span> <span class="pre">-mtime</span> <span class="pre">-10</span></code></p></td>
<td><p>найти все файлы в <code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code>, созданные или изменённые в течении последних 10 дней</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">find</span> <span class="pre">/</span> <span class="pre">-xdev</span> <span class="pre">-name</span> <span class="pre">\*.rpm</span></code></p></td>
<td><p>найти все фалы и директории, имена которых оканчиваются на <code class="docutils literal notranslate"><span class="pre">.rpm</span></code>, игнорируя съёмные носители, такие как cdrom, floppy и т.п.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id5">
<h2>Работа с файловыми системами,дисками<a class="headerlink" href="#id5" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">fuser</span> <span class="pre">-km</span> <span class="pre">/mnt/hda2</span></code></p></td>
<td><p>отмонтировать устройство hda2 если оно занято</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">mount</span> <span class="pre">/dev/hda2</span> <span class="pre">/mnt/hda2</span></code></p></td>
<td><p>примонтировать диск с именем <code class="docutils literal notranslate"><span class="pre">/dev/hda2</span></code> в папку с именем <code class="docutils literal notranslate"><span class="pre">/mnt/hda2</span></code>- перед монтированием проверьте существование папки <code class="docutils literal notranslate"><span class="pre">/mnt/hda2</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">mount</span> <span class="pre">-o</span> <span class="pre">loop</span> <span class="pre">file.iso</span> <span class="pre">/mnt/cdrom</span></code></p></td>
<td><p>примонтировать фаил или ISO образ (ISO - образ диска в ISO формате)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">mount</span> <span class="pre">--bind</span> <span class="pre">~/dir1</span> <span class="pre">/mnt/boot/dir2</span></code></p></td>
<td><p>смонтируем содержимое каталога <code class="docutils literal notranslate"><span class="pre">dir1</span></code> в каталог <code class="docutils literal notranslate"><span class="pre">dir2</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">umount</span> <span class="pre">/dev/hda2</span></code></p></td>
<td><p>отмонтировать диск с именем <code class="docutils literal notranslate"><span class="pre">hda2</span></code> - незабудьте сначала выйти из точки монтирования <code class="docutils literal notranslate"><span class="pre">/mnt/hda2</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">losetup</span> <span class="pre">-f</span> <span class="pre">--show</span> <span class="pre">/path/to/img.iso</span></code></p></td>
<td><p>монтирование образа состоящего из нескольких разделов. <code class="docutils literal notranslate"><span class="pre">partprobe</span> <span class="pre">/dev/loopX</span></code> перечитать разделы. После монтировать как любой накопитель (<code class="docutils literal notranslate"><span class="pre">/dev/loopX</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">losetup</span> <span class="pre">-d</span> <span class="pre">/dev/loop0</span></code></p></td>
<td><p>отмонтировать устройство <code class="docutils literal notranslate"><span class="pre">loop0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">dd</span> <span class="pre">bs=4M</span> <span class="pre">if=/path/to/manjaro.iso</span> <span class="pre">of=/dev/sd[X]</span> <span class="pre">status=progress</span> <span class="pre">conv=notrunc,noerror,sync</span></code></p></td>
<td><p>побитовое копирование из образа на диск</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">dd</span> <span class="pre">bs=4M</span> <span class="pre">if=/dev/sd[X]</span> <span class="pre">of=name.iso</span> <span class="pre">status=progress</span> <span class="pre">conv=notrunc,noerror,sync</span></code></p></td>
<td><p>создаем образ диска в файл name.iso в текущем каталоге</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lsblk</span></code></p></td>
<td><p>список дисков по иерархии</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">df</span> <span class="pre">-h</span></code></p></td>
<td><p>отображает информацию о смонтированных разделах с отображением общего, доступного и используемого пространства</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mke2fs</span> <span class="pre">-j</span> <span class="pre">/dev/hda1</span></code></p></td>
<td><p>создать журналирующую файловую систему <code class="docutils literal notranslate"><span class="pre">ext3</span></code> на разделе <code class="docutils literal notranslate"><span class="pre">hda1</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mkfs</span> <span class="pre">-t</span> <span class="pre">vfat</span> <span class="pre">32</span> <span class="pre">-F</span> <span class="pre">/dev/hda1</span></code></p></td>
<td><p>создать файловую систему <code class="docutils literal notranslate"><span class="pre">FAT32</span></code> на разделе <code class="docutils literal notranslate"><span class="pre">hda1</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="pacman-yaourt">
<h2>Pacman, Yaourt<a class="headerlink" href="#pacman-yaourt" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">pacman</span> <span class="pre">-S</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>установка конкретного пакета</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">pacman</span> <span class="pre">-R</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>удаление конкретного пакета</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">pacman</span> <span class="pre">-Rdd</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>принудительное удаление конкретного пакета, с игнорированием зависимостей</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pacman</span> <span class="pre">-Ql</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>просмотр списка файлов пакета</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">pacman</span> <span class="pre">-Scc</span></code></p></td>
<td><p>очистка кэша</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">pacman</span> <span class="pre">-U</span> <span class="pre">&lt;путь&gt;</span></code></p></td>
<td><p>установка локального пакета [имя_пакета-версия.pkg.tar.xz]</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">pacman</span> <span class="pre">-Syy</span></code></p></td>
<td><p>синхронизация с репозиторием</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">pacman</span> <span class="pre">-Syu</span></code></p></td>
<td><p>обновление системы</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">pacman</span> <span class="pre">-Ss</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>поиск пакета</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">yaourt</span> <span class="pre">-ss</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>поиск и установка пакета</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id6">
<h2>Сеть<a class="headerlink" href="#id6" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ifconfig</span> <span class="pre">eth0</span></code></p></td>
<td><p>отобразить настройку сетевой карты <code class="docutils literal notranslate"><span class="pre">eth0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ifconfig</span> <span class="pre">-a</span></code></p></td>
<td><p>отобразить все сетевые интерфейсы</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ifconfig</span> <span class="pre">eth0</span> <span class="pre">192.168.1.1</span> <span class="pre">netmask</span> <span class="pre">255.255.255.0</span></code></p></td>
<td><p>настроить IP адрес и маску подсети для сетевого интерфейса <code class="docutils literal notranslate"><span class="pre">eth0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ifconfig</span> <span class="pre">eth0</span> <span class="pre">down</span></code></p></td>
<td><p>отключить сетевой интерфейс <code class="docutils literal notranslate"><span class="pre">eth0</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ifconfig</span> <span class="pre">eth0</span> <span class="pre">up</span></code></p></td>
<td><p>включить сетевой интерфейс <code class="docutils literal notranslate"><span class="pre">eth0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ethtool</span> <span class="pre">eth0</span></code></p></td>
<td><p>информация о физической активности (например наличие линка)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ifconfig</span> <span class="pre">eth0</span> <span class="pre">broadcast</span> <span class="pre">192.168.1.255</span></code></p></td>
<td><p>установить широковещательный адрес</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ifconfig</span> <span class="pre">eth0</span> <span class="pre">hw</span> <span class="pre">ether</span> <span class="pre">AA:BB:CC:DD:EE:FF</span></code></p></td>
<td><p>задать MAC (перед этим выполнить <code class="docutils literal notranslate"><span class="pre">ifconfig</span> <span class="pre">eth0</span> <span class="pre">down</span></code>), после перезагрузки сбросится</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">wget</span> <span class="pre">-c</span> <span class="pre">www.example.com/file.iso</span></code></p></td>
<td><p>загрузить файл <code class="docutils literal notranslate"><span class="pre">www.example.com/file.iso</span></code> с возможностью останова и продолжения в последствии</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">\'wget</span> <span class="pre">-c</span> <span class="pre">www.example.com/files.iso\'</span> <span class="pre">at</span> <span class="pre">09:00</span></code></p></td>
<td><p>начать закачку в указанное время</p></td>
</tr>
</tbody>
</table>
<section id="id7">
<h3>Заметки<a class="headerlink" href="#id7" title="Permalink to this heading"></a></h3>
<ol class="arabic">
<li><p>Проброс сети через мост (например для виртуальной машины). После перезагрузки изменения сбросятся.</p>
<ul class="simple">
<li><p>Зануляем активный интерфейс <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ifconfig</span> <span class="pre">enp3s0</span> <span class="pre">0.0.0.0</span></code></p></li>
<li><p>Создаем мост <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">brctl</span> <span class="pre">addbr</span> <span class="pre">br0</span></code></p></li>
<li><p>Связываем мост и реальный интерфейс <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">brctl</span> <span class="pre">addif</span> <span class="pre">br0</span> <span class="pre">enp3s0</span></code></p></li>
<li><p>Назначаем автоматический DHCP мосту <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">dhclient</span> <span class="pre">br0</span></code></p></li>
<li><p>Для статического IP <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ifconfig</span> <span class="pre">br0</span> <span class="pre">192.168.1.108</span></code></p></li>
</ul>
<p><strong>Более простой и гибкий метод выполнить проброс через</strong> <code class="docutils literal notranslate"><span class="pre">netctl</span></code></p>
</li>
<li><p>Создать Tap интерфейс и привязать к мосту.</p>
<ul class="simple">
<li><p>Создадим интерфейс tap0 <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ip</span> <span class="pre">tuntap</span> <span class="pre">add</span> <span class="pre">tap0</span> <span class="pre">mode</span> <span class="pre">tap</span></code></p></li>
<li><p>Привяжем его к мосту br1 (должен быть уже создан и настроен) <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">brctl</span> <span class="pre">addif</span> <span class="pre">br1</span> <span class="pre">tap0</span></code></p></li>
<li><p>Запустим интерфейс <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ifconfig</span> <span class="pre">tap0</span> <span class="pre">up</span></code></p></li>
</ul>
<p>Этот интерфейс можно использовать для подключения виртуалки созданной через QEMU к той же сети что и хост</p>
</li>
</ol>
</section>
</section>
<section id="ssh">
<h2>SSH<a class="headerlink" href="#ssh" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">root&#64;serverip</span></code></p></td>
<td><p>открытие соединения (пользователь на клиенте <code class="docutils literal notranslate"><span class="pre">root</span></code>  c IP адресом <code class="docutils literal notranslate"><span class="pre">serverip</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">scp</span> <span class="pre">root&#64;serverip:/root/file.txt</span> <span class="pre">/home/file.txt</span></code></p></td>
<td><p>копирует файл <code class="docutils literal notranslate"><span class="pre">file.txt</span></code> из удлаенного сервера на ПК</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">scp</span> <span class="pre">file.txt</span> <span class="pre">root&#64;serverip:/root/file.txt</span></code></p></td>
<td><p>копирует файл <code class="docutils literal notranslate"><span class="pre">file.txt</span></code> из ПК на удаленный сервер</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">scp</span> <span class="pre">-r</span> <span class="pre">dir1</span> <span class="pre">root&#64;serverip:/root/dir</span></code></p></td>
<td><p>копирует папку <code class="docutils literal notranslate"><span class="pre">dir1</span></code> с локального хоста в папку <code class="docutils literal notranslate"><span class="pre">dir</span></code> на удаленный сервер</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">scp</span> <span class="pre">-p</span> <span class="pre">file.txt</span> <span class="pre">root&#64;serverip:~</span></code></p></td>
<td><p>копируем файл <code class="docutils literal notranslate"><span class="pre">file.txt</span></code> с локального компьютера в домашний каталог на удаленном сервере. Сохраняем время изменения, время доступа и права копируемого файла</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">spc</span> <span class="pre">root&#64;serverip:~/\{file1,file2,file3\}</span></code></p></td>
<td><p>копирует несколько файлов с удаленного хоста в текущую директорию на ПК</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">user&#64;host</span> <span class="pre">\'bash</span> <span class="pre">-s\'</span> <span class="pre">&lt;</span> <span class="pre">script.sh</span></code></p></td>
<td><p>выполнить локальный скрипт на удаленной машине</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ssh-keygen</span> <span class="pre">-t</span> <span class="pre">rsa</span></code></p></td>
<td><p>создать ssh ключ <code class="docutils literal notranslate"><span class="pre">-C</span> <span class="pre">&quot;comment&quot;</span></code> для своего комментария</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ssh-copy-id</span> <span class="pre">-i</span> <span class="pre">~/.ssh/id_rsa.pub</span> <span class="pre">user&#64;host</span></code></p></td>
<td><p>добавить ключ на сервер</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ssh-copy-id</span> <span class="pre">\'-p</span> <span class="pre">443</span> <span class="pre">user&#64;server\'</span></code></p></td>
<td><p>добавить ключ на сервер по иному порту</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">UserName&#64;RemoteServer</span> <span class="pre">\'команда\'</span></code></p></td>
<td><p>выполнить команду на удаленной машине</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">user&#64;host</span> <span class="pre">&lt;</span> <span class="pre">local_file.txt</span></code></p></td>
<td><p>взять пароль из локального файла</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">-XC</span> <span class="pre">user&#64;remotehost</span> <span class="pre">\&quot;eclipse\&quot;</span></code></p></td>
<td><p>запуск графического приложения</p></td>
</tr>
</tbody>
</table>
</section>
<section id="iptables">
<h2>Iptables<a class="headerlink" href="#iptables" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">iptables</span> <span class="pre">-t</span> <span class="pre">nat</span> <span class="pre">-A</span> <span class="pre">PREROUTING</span> <span class="pre">-p</span> <span class="pre">udp</span> <span class="pre">-s</span> <span class="pre">213.184.251.56,176.213.138.62</span> <span class="pre">-d</span> <span class="pre">95.174.100.68</span> <span class="pre">--dport</span> <span class="pre">5432</span> <span class="pre">-j</span> <span class="pre">DNAT</span> <span class="pre">--to-destination</span> <span class="pre">192.168.10.4:5432</span></code></p></td>
<td><p>Перенаправить UDP трафик с интерфейса имеющим IP 95.174.100.68 порта 5432 на машину 192.168.10.4 порт 5432, разрешить это только для клиентов с IP 213.184.251.56,176.213.138.62</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">iptables</span> <span class="pre">-t</span> <span class="pre">nat</span> <span class="pre">-A</span> <span class="pre">PREROUTING</span> <span class="pre">-p</span> <span class="pre">tcp</span> <span class="pre">-s</span> <span class="pre">213.184.251.56,176.213.138.62</span> <span class="pre">-d</span> <span class="pre">95.174.100.68</span> <span class="pre">--dport</span> <span class="pre">5432</span> <span class="pre">-j</span> <span class="pre">DNAT</span> <span class="pre">--to-destination</span> <span class="pre">192.168.10.4:5432</span></code></p></td>
<td><p>Перенаправить TCP трафик с интерфейса имеющим IP 95.174.100.68 порта 5432 на машину 192.168.10.4 порт 5432, разрешить это только для клиентов с IP 213.184.251.56,176.213.138.62</p></td>
</tr>
</tbody>
</table>
</section>
<section id="journalctl">
<h2>Journalctl<a class="headerlink" href="#journalctl" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">journalctl</span> <span class="pre">--list-boots</span></code></p></td>
<td><p>лист сессий</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">journalctl</span> <span class="pre">-b</span> <span class="pre">1</span></code></p></td>
<td><p>посмотреть лог сессии «1»</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">journalctl</span> <span class="pre">-b</span> <span class="pre">-p</span> <span class="pre">err</span></code></p></td>
<td><p>посмотреть только ошибки</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">journalctl</span> <span class="pre">\-\-since</span> <span class="pre">\'30</span> <span class="pre">min</span> <span class="pre">ago\'</span></code></p></td>
<td><p>посмотреть логи за последние 30 минут (30 min ago)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">journalctl</span> <span class="pre">\-\-vacuum-time=1years</span></code></p></td>
<td><p>удалить журнал за 1 год</p></td>
</tr>
</tbody>
</table>
</section>
<section id="systemctl">
<h2>Systemctl<a class="headerlink" href="#systemctl" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">systemctl</span> <span class="pre">list-unit-files</span></code></p></td>
<td><p>посмотреть список установленных файлов юнитов (доступные файлы юнитов можно посмотреть в каталогах <code class="docutils literal notranslate"><span class="pre">/usr/lib/systemd/system/</span></code> и <code class="docutils literal notranslate"><span class="pre">/etc/systemd/system/</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">systemctl</span> <span class="pre">start</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>незамедлительно запустить юнит</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">systemctl</span> <span class="pre">stop</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>незамедлительно остановить юнит</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">systemctl</span> <span class="pre">restart</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>перезапустить юнит</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">systemctl</span> <span class="pre">status</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>показать статус юнита, а также запущен он или нет</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">systemctl</span> <span class="pre">enable</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>включить юнит в автозапуск при загрузке системы</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">systemctl</span> <span class="pre">disable</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>убрать юнит из автозапуска при загрузке системы</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">systemctl</span> <span class="pre">daemon-reload</span></code></p></td>
<td><p>перезагрузка всех юнитов</p></td>
</tr>
</tbody>
</table>
</section>
<section id="system-v">
<h2>System V<a class="headerlink" href="#system-v" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">&lt;name&gt;</span> <span class="pre">start</span></code></p></td>
<td><p>запустить сервис</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">&lt;name&gt;</span> <span class="pre">stop</span></code></p></td>
<td><p>остановить сервис</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">&lt;name&gt;</span> <span class="pre">restart</span></code></p></td>
<td><p>перезапустить сервис</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">&lt;name&gt;</span> <span class="pre">status</span></code></p></td>
<td><p>состояние сервиса</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">\-\-status-all</span></code></p></td>
<td><p>состояния всех сервисов</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ntp">
<h2>NTP<a class="headerlink" href="#ntp" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">restart</span> <span class="pre">ntpd.service</span></code></p></td>
<td><p>перезапустить сервис</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ntpq</span> <span class="pre">-pn</span></code></p></td>
<td><p>Проверить состояние получения эталонного времени</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ntpdate</span> <span class="pre">-u</span> <span class="pre">&lt;IP&gt;</span></code></p></td>
<td><p>установить дату и время с сервера по IP</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rsync">
<h2>RSync<a class="headerlink" href="#rsync" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rsync</span> <span class="pre">-vP</span> <span class="pre">--checksum</span>&#160; <span class="pre">--append-verify</span> <span class="pre">-e</span> <span class="pre">&quot;ssh</span> <span class="pre">-p</span> <span class="pre">2206</span>&#160; <span class="pre">-i</span> <span class="pre">/tmp/Office3/rsa&quot;</span> <span class="pre">ubuntu_server.qcow2</span>&#160; <span class="pre">router3&#64;213.184.251.56:/home/router3/ubuntu_server.qcow2</span></code></p></td>
<td><p>Копирование файла с проверкой контрольной суммы и возможностью докачки</p></td>
</tr>
</tbody>
</table>
</section>
<section id="samba">
<h2>Samba<a class="headerlink" href="#samba" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">findsmb</span></code></p></td>
<td><p>сканируем/ищем SMB-хосты</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">smbtree</span></code></p></td>
<td><p>просмотр информации о составе сети</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">smbpasswd</span> <span class="pre">-a</span> <span class="pre">&lt;user_name&gt;</span></code></p></td>
<td><p>создание нового пользователя Samba</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">smbclient</span> <span class="pre">-L</span> <span class="pre">server</span> <span class="pre">-U</span> <span class="pre">&lt;user_name&gt;</span></code></p></td>
<td><p>получим список ресурсов SMB, доступных &lt;user_name&gt;</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">smbclient</span> <span class="pre">//192.168.1.1/myshare</span> <span class="pre">-u</span> <span class="pre">&lt;user_name&gt;</span></code></p></td>
<td><p>подключение к Samba как к FTP (команды cd,ls,get,put,quit)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mount</span> <span class="pre">-t</span> <span class="pre">cifs</span> <span class="pre">-o</span> <span class="pre">username=&lt;Пользователь&gt;,password=</span> <span class="pre">//&lt;IP-адрес&gt;/&lt;Общий</span> <span class="pre">каталог&gt;</span> <span class="pre">&lt;Точка</span> <span class="pre">монтирования&gt;</span></code></p></td>
<td><p>монтировать сетевую файловую систему Windows (SMB/CIFS)</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>пример: <code class="docutils literal notranslate"><span class="pre">mount</span> <span class="pre">-t</span> <span class="pre">cifs</span> <span class="pre">-o</span> <span class="pre">username=Everyone,password=</span> <span class="pre">//10.0.0.1/public</span> <span class="pre">/media</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">restart</span> <span class="pre">smb</span> <span class="pre">nmb</span></code></p></td>
<td><p>перезапустить samba для system.d</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">smbd</span> <span class="pre">nmbd</span> <span class="pre">restart</span></code></p></td>
<td><p>перезапустить samba для system V</p></td>
</tr>
</tbody>
</table>
<p><strong>О подключении к расшаренным папкам:</strong> Почему то обращаясь по IP иногда нельзя подключиться к серверу. Надежнее использовать имя ПК. Например
для подключения расшаренного каталога <code class="docutils literal notranslate"><span class="pre">smb_share_dir</span></code> (прописан в <code class="docutils literal notranslate"><span class="pre">smb.conf</span></code>) машиной с именем <code class="docutils literal notranslate"><span class="pre">svyatoslav-g33590</span></code> в поле адреса
в системе Windows вводим: <code class="docutils literal notranslate"><span class="pre">\\svyatoslav-g33590.local\smb_share_dir</span></code></p>
</section>
<section id="id8">
<h2>Пользователи и группы<a class="headerlink" href="#id8" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">groupadd</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>создать новую группу с именем <code class="docutils literal notranslate"><span class="pre">group</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">groupdel</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>удалить группу <code class="docutils literal notranslate"><span class="pre">group</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">groupmod</span> <span class="pre">-n</span> <span class="pre">moon</span> <span class="pre">sun</span></code></p></td>
<td><p>переименовать группу <code class="docutils literal notranslate"><span class="pre">moon</span></code> в <code class="docutils literal notranslate"><span class="pre">sun</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">passwd</span> <span class="pre">&lt;user&gt;</span></code></p></td>
<td><p>сменить пароль для <code class="docutils literal notranslate"><span class="pre">user</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">useradd</span> <span class="pre">-c</span> <span class="pre">\'User</span> <span class="pre">Linux\'</span> <span class="pre">-g</span> <span class="pre">admin</span> <span class="pre">-d</span> <span class="pre">/home/user1</span> <span class="pre">-s</span> <span class="pre">/bin/bash</span> <span class="pre">user1</span></code></p></td>
<td><p>создать пользователя <code class="docutils literal notranslate"><span class="pre">user1</span></code>, назначить ему в качестве домашнего каталога <code class="docutils literal notranslate"><span class="pre">/home/user1</span></code>, в качестве shell’а <code class="docutils literal notranslate"><span class="pre">/bin/bash</span></code>, включить его в группу <code class="docutils literal notranslate"><span class="pre">admin</span></code> и добавить комментарий <code class="docutils literal notranslate"><span class="pre">User</span> <span class="pre">Linux</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">useradd</span> <span class="pre">user1</span></code></p></td>
<td><p>создать пользователя user1</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">userdel</span> <span class="pre">-r</span> <span class="pre">user1</span></code></p></td>
<td><p>удалить пользователя user1 и его домашний каталог</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id9">
<h2>Права на файлы<a class="headerlink" href="#id9" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">chgrp</span> <span class="pre">group1</span> <span class="pre">file1</span></code></p></td>
<td><p>сменить группу-владельца файла <code class="docutils literal notranslate"><span class="pre">file1</span></code> на <code class="docutils literal notranslate"><span class="pre">group1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">ugo+rwx</span> <span class="pre">directory1</span></code></p></td>
<td><p>добавить полномочия на директорию <code class="docutils literal notranslate"><span class="pre">directory1</span></code> ugo(User Group Other)+rwx(Read Write eXecute) - всем полные права. Аналогичное можно сделать таким образом chmod 777 directory1</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">go-rwx</span> <span class="pre">directory1</span></code></p></td>
<td><p>отобрать у группы и всех остальных все полномочия на директорию <code class="docutils literal notranslate"><span class="pre">directory1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">u+s</span> <span class="pre">/bin/file1</span></code></p></td>
<td><p>назначить SUID-бит файлу <code class="docutils literal notranslate"><span class="pre">/bin/binary_file</span></code>. Это даёт возможность любому пользователю запускать на выполнение файл с полномочиями владельца файла.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">u-s</span> <span class="pre">/bin/file1</span></code></p></td>
<td><p>снять SUID-бит с файла <code class="docutils literal notranslate"><span class="pre">/bin/binary_file</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">chown</span> <span class="pre">user1</span> <span class="pre">file1</span></code></p></td>
<td><p>назначить владельцем файла <code class="docutils literal notranslate"><span class="pre">file1</span></code> пользователя <code class="docutils literal notranslate"><span class="pre">user1</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">chown</span> <span class="pre">-R</span> <span class="pre">user1</span> <span class="pre">directory1</span></code></p></td>
<td><p>назначить рекурсивно владельцем директории <code class="docutils literal notranslate"><span class="pre">directory1</span></code> пользователя <code class="docutils literal notranslate"><span class="pre">user1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-lh</span></code></p></td>
<td><p>просмотр полномочий на файлы и директории в текущей директории</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">chattr</span> <span class="pre">+a</span> <span class="pre">file1</span></code></p></td>
<td><p>позволить открывать файл на запись только в режиме добавления</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">chattr</span> <span class="pre">+i</span> <span class="pre">file1</span></code></p></td>
<td><p>делает файл недоступным для любых изменений: редактирование, удаление, перемещение, создание линков на него</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">chattr</span> <span class="pre">+s</span> <span class="pre">file1</span></code></p></td>
<td><p>позволяет сделать удаление файла безопасным, т.е. выставленный атрибут s говорит о том, что при удалении файла, место, занимаемое файлом на диске заполняется нулями, что предотвращяет возможность восстановления данных</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">+x</span> <span class="pre">/file1</span></code></p></td>
<td><p>сделать файл исполняемым</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id10">
<h2>Архивация и сжатие файлов<a class="headerlink" href="#id10" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rar</span> <span class="pre">a</span> <span class="pre">file1.rar</span> <span class="pre">test_file</span></code></p></td>
<td><p>создать rar-архив <code class="docutils literal notranslate"><span class="pre">file1.rar</span></code> и включить в него файл <code class="docutils literal notranslate"><span class="pre">test_file</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">rar</span> <span class="pre">a</span> <span class="pre">file1.rar</span> <span class="pre">file1</span> <span class="pre">file2</span> <span class="pre">dir1</span></code></p></td>
<td><p>создать rar-архив <code class="docutils literal notranslate"><span class="pre">file1.rar</span></code> и включить в него <code class="docutils literal notranslate"><span class="pre">file1</span></code>, <code class="docutils literal notranslate"><span class="pre">file2</span></code> и <code class="docutils literal notranslate"><span class="pre">dir1</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rar</span> <span class="pre">x</span> <span class="pre">file1.rar</span></code></p></td>
<td><p>распаковать rar-архив</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">-cvf</span> <span class="pre">archive.tar</span> <span class="pre">file1</span> <span class="pre">file2</span> <span class="pre">dir1</span></code></p></td>
<td><p>создать tar-архив <code class="docutils literal notranslate"><span class="pre">archive.tar</span></code>, содержащий файл <code class="docutils literal notranslate"><span class="pre">file1</span></code>, <code class="docutils literal notranslate"><span class="pre">file2</span></code> и <code class="docutils literal notranslate"><span class="pre">dir1</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">-tf</span> <span class="pre">archive.tar</span></code></p></td>
<td><p>показать содержимое архива</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">-xvf</span> <span class="pre">archive.tar</span> <span class="pre">-C</span> <span class="pre">/tmp</span></code></p></td>
<td><p>распаковать архив в <code class="docutils literal notranslate"><span class="pre">/tmp</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">zip</span> <span class="pre">-r</span> <span class="pre">file1.zip</span> <span class="pre">file1</span> <span class="pre">file2</span> <span class="pre">dir1</span></code></p></td>
<td><p>создать сжатый zip-архив и со включением в него нескольких файлов и/или директорий</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id11">
<h2>Манипуляции с текстом<a class="headerlink" href="#id11" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">-n</span> <span class="pre">file1</span></code></p></td>
<td><p>пронумеровать строки при выводе содержимого файла</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">comm</span> <span class="pre">-1</span> <span class="pre">file1</span> <span class="pre">file2</span></code></p></td>
<td><p>сравнить содержимое двух файлов, не отображая строки принадлежащие файлу <code class="docutils literal notranslate"><span class="pre">file1</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">comm</span> <span class="pre">-2</span> <span class="pre">file1</span> <span class="pre">file2</span></code></p></td>
<td><p>сравнить содержимое двух файлов, не отображая строки принадлежащие файлу <code class="docutils literal notranslate"><span class="pre">file2</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">comm</span> <span class="pre">-3</span> <span class="pre">file1</span> <span class="pre">file2</span></code></p></td>
<td><p>сравнить содержимое двух файлов, удаляя строки встречающиеся в обоих файлах</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">diff</span> <span class="pre">file1</span> <span class="pre">file2</span></code></p></td>
<td><p>сравнить два файла</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">Aug</span> <span class="pre">/var/log/messages</span></code></p></td>
<td><p>из файла <code class="docutils literal notranslate"><span class="pre">/var/log/messages</span></code> отобрать и вывести на стандартное устройство вывода строки, содержащие <code class="docutils literal notranslate"><span class="pre">Aug</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">^Aug</span> <span class="pre">/var/log/messages</span></code></p></td>
<td><p>из файла <code class="docutils literal notranslate"><span class="pre">/var/log/messages</span></code> отобрать и вывести на стандартное устройство вывода строки, начинающиеся на <code class="docutils literal notranslate"><span class="pre">Aug</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">[0-9]</span> <span class="pre">/var/log/messages</span></code></p></td>
<td><p>из файла <code class="docutils literal notranslate"><span class="pre">/var/log/messages</span></code> отобрать и вывести на стандартное устройство вывода строки, содержащие цифры</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">Aug</span> <span class="pre">-R</span> <span class="pre">/var/log/*</span></code></p></td>
<td><p>отобрать и вывести на стандартное устройство вывода строки, содержащие <code class="docutils literal notranslate"><span class="pre">Aug</span></code>, во всех файлах, находящихся в директории <code class="docutils literal notranslate"><span class="pre">/var/log</span></code> и ниже</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">paste</span> <span class="pre">file1</span> <span class="pre">file2</span></code></p></td>
<td><p>объединить содержимое <code class="docutils literal notranslate"><span class="pre">file1</span></code> и <code class="docutils literal notranslate"><span class="pre">file2</span></code> в виде таблицы: строка 1 из file1 = строка 1 колонка 1-n, строка 1 из file2 = строка 1 колонка n+1-m</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">paste</span> <span class="pre">-d</span> <span class="pre">\'+\'</span> <span class="pre">file1</span> <span class="pre">file2</span></code></p></td>
<td><p>объединить содержимое <code class="docutils literal notranslate"><span class="pre">file1</span></code> и <code class="docutils literal notranslate"><span class="pre">file2</span></code> в виде таблицы с разделителем <code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sed</span> <span class="pre">\'s/string1/string2/g\'</span> <span class="pre">example.txt</span></code></p></td>
<td><p>в файле <code class="docutils literal notranslate"><span class="pre">example.txt</span></code> заменить <code class="docutils literal notranslate"><span class="pre">string1</span></code> на <code class="docutils literal notranslate"><span class="pre">string2</span></code>, результат вывести на стандартное устройство вывода</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sed</span> <span class="pre">\'/^$/d\'</span> <span class="pre">example.txt</span></code></p></td>
<td><p>удалить пустые строки и комментарии из файла <code class="docutils literal notranslate"><span class="pre">example.txt</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sed</span> <span class="pre">-e</span> <span class="pre">\'1d\'</span> <span class="pre">exampe.txt</span></code></p></td>
<td><p>удалить первую строку из файла <code class="docutils literal notranslate"><span class="pre">example.txt</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sed</span> <span class="pre">-n</span> <span class="pre">\'/string1/p\'</span></code></p></td>
<td><p>отобразить только строки содержашие <code class="docutils literal notranslate"><span class="pre">string1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sed</span> <span class="pre">-e</span> <span class="pre">\'s/</span> <span class="pre">*$//\'</span> <span class="pre">example.txt</span></code></p></td>
<td><p>удалить пустые символы в в конце каждой строки</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sed</span> <span class="pre">-e</span> <span class="pre">\'s/string1//g\'</span> <span class="pre">example.txt</span></code></p></td>
<td><p>удалить строку <code class="docutils literal notranslate"><span class="pre">string1</span></code> из текста не изменяя всего остального</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sed</span> <span class="pre">-n</span> <span class="pre">\'5p;5q\'</span> <span class="pre">example.txt</span></code></p></td>
<td><p>вывести пятую строку</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sed</span> <span class="pre">-e</span> <span class="pre">\'s/00*/0/g\'</span> <span class="pre">example.txt</span></code></p></td>
<td><p>заменить последовательность из любого количества нулей одним нулём</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sort</span> <span class="pre">file1</span> <span class="pre">file2</span></code></p></td>
<td><p>отсортировать содержимое двух файлов</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id12">
<h2>Создание резервных копий<a class="headerlink" href="#id12" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">dump</span> <span class="pre">-0aj</span> <span class="pre">-f</span> <span class="pre">/tmp/home0.bak</span> <span class="pre">/home</span></code></p></td>
<td><p>создать полную резервную копию директории <code class="docutils literal notranslate"><span class="pre">/home</span></code> в файл <code class="docutils literal notranslate"><span class="pre">/tmp/home0.bak</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dump</span> <span class="pre">-1aj</span> <span class="pre">-f</span> <span class="pre">/tmp/home0.bak</span> <span class="pre">/home</span></code></p></td>
<td><p>создать инкрементальную резервную копию директории <code class="docutils literal notranslate"><span class="pre">/home</span></code> в файл <code class="docutils literal notranslate"><span class="pre">/tmp/home0.bak</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">restore</span> <span class="pre">-if</span> <span class="pre">/tmp/home0.bak</span></code></p></td>
<td><p>восстановить из резервной копии /tmp/home0.bak</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">rsync</span> <span class="pre">-rogpav</span> <span class="pre">-e</span> <span class="pre">ssh</span> <span class="pre">--delete</span> <span class="pre">/home</span> <span class="pre">ip_address:/tmp</span></code></p></td>
<td><p>синхронизировать через SSH-туннель</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rsync</span> <span class="pre">-az</span> <span class="pre">-e</span> <span class="pre">ssh</span> <span class="pre">--delete</span> <span class="pre">/home/local</span> <span class="pre">ip_addr:/home/public</span></code></p></td>
<td><p>синхронизировать удалённую директорию с локальной директорией через ssh-туннель со сжатием</p></td>
</tr>
</tbody>
</table>
</section>
<section id="docker">
<h2>Docker<a class="headerlink" href="#docker" title="Permalink to this heading"></a></h2>
<p>Установка:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">pacman</span> <span class="pre">-S</span> <span class="pre">docker</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">pacman</span> <span class="pre">-S</span> <span class="pre">docker-compose</span></code></p></li>
</ul>
<p>Настройка:</p>
<ul class="simple">
<li><p>добавить пользователя в группу Docker <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">usermod</span> <span class="pre">-aG</span> <span class="pre">docker</span> <span class="pre">${USER}</span></code></p></li>
<li><p>добавим в автозагрузку <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">enable</span> <span class="pre">docker.servise</span></code></p></li>
<li><p>запустим службу <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">start</span> <span class="pre">docker.servise</span></code></p></li>
</ul>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">search</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>поиск образа &lt;name&gt;</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">pull</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>загрузка образа из реестра</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span> <span class="pre">-it</span> <span class="pre">\-\-rm</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>запуск контейнера</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">rename</span> <span class="pre">&lt;old</span> <span class="pre">name&gt;</span> <span class="pre">&lt;new</span> <span class="pre">name&gt;</span></code></p></td>
<td><p>переименование контейнера</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">rm</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>удаление контейнера</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">start</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>запуск контейнера</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">stop</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>остановка контейнера</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">restart</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>перезагрузка контейнера</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">pause</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>пауза</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">unpause</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>снятие паузы</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">ps</span></code></p></td>
<td><p>работающие контейнеры</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">logs</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>лог контейнера ключ <a href="#id13"><span class="problematic" id="id14">``</span></a><code class="docutils literal notranslate"><span class="pre">-f``</span></code> непрерывно</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">images</span></code></p></td>
<td><p>список образов</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">load</span> <span class="pre">-i</span> <span class="pre">/путь/до/сохранения/file.tar</span></code></p></td>
<td><p>загрузка образа из .tar</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">save</span> <span class="pre">-o</span> <span class="pre">/путь/до/сохранения/file.tar</span></code></p></td>
<td><p>сохранение образа в tar-архив</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">rmi</span> <span class="pre">&lt;name&gt;</span></code></p></td>
<td><p>удаление образа</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">rmi</span> <span class="pre">$(docker</span> <span class="pre">images</span> <span class="pre">-a</span> <span class="pre">-q)</span></code></p></td>
<td><p>удаление всех образов</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">rmi</span> <span class="pre">$(docker</span> <span class="pre">images</span> <span class="pre">-f</span> <span class="pre">&quot;dangling=true&quot;</span> <span class="pre">-q)</span> <span class="pre">--force</span></code></p></td>
<td><p>удалить все образы без тега</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">stop</span> <span class="pre">$(docker</span> <span class="pre">ps</span> <span class="pre">-a</span> <span class="pre">-q)</span> <span class="pre">&amp;&amp;</span> <span class="pre">docker</span> <span class="pre">rm</span> <span class="pre">$(docker</span> <span class="pre">ps</span> <span class="pre">-a</span> <span class="pre">-q)</span></code></p></td>
<td><p>остановка и удаление всех контейнеров</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">exec</span> <span class="pre">-it</span> <span class="pre">b4a144826c5a</span> <span class="pre">/bin/bash</span></code></p></td>
<td><p>войти в контейнер</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">network</span> <span class="pre">ls</span></code></p></td>
<td><p>доступные сети внутри docker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">-H</span> <span class="pre">tcp://192.168.0.52:2375</span> <span class="pre">ps</span></code></p></td>
<td><p>контейнеры на удаленном docker</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>(если открыт socket на сервере)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">volume</span> <span class="pre">prune</span></code></p></td>
<td><p>удалить неиспользуемые volume</p></td>
</tr>
</tbody>
</table>
<section id="id15">
<h3>Заметки<a class="headerlink" href="#id15" title="Permalink to this heading"></a></h3>
<ol class="arabic">
<li><p>Открыть удаленное подключение к демону (проверено на CentOS 7)</p>
<ol class="arabic">
<li><p>Создаем файл конфигурации для Docker daemon или добавляем в текущую <code class="docutils literal notranslate"><span class="pre">nano</span> <span class="pre">/etc/docker/daemon.json</span></code></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;hosts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;tcp://0.0.0.0:2375&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;unix:///var/run/docker.sock&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Создаем <code class="docutils literal notranslate"><span class="pre">nano</span> <span class="pre">/etc/systemd/system/docker.service.d/override.conf</span></code> (каталог <code class="docutils literal notranslate"><span class="pre">docker.service.d</span></code> создать если отсутсвует)</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[Service]</span>
<span class="na">ExecStart</span><span class="o">=</span>
<span class="na">ExecStart</span><span class="o">=</span><span class="s">/usr/bin/dockerd</span>
</pre></div>
</div>
</li>
<li><p>Перезапускаем <code class="docutils literal notranslate"><span class="pre">systemctl</span> <span class="pre">daemon-reload</span></code> и <code class="docutils literal notranslate"><span class="pre">systemctl</span> <span class="pre">restart</span> <span class="pre">docker.service</span></code></p></li>
</ol>
</li>
<li><p>Установка оффлайн на CentOS 7</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget<span class="w"> </span>http://mirror.centos.org/centos/7/extras/x86_64/Packages/container-selinux-XX.noarch.rpm
wget<span class="w"> </span>https://download.docker.com/linux/centos/7/x86_64/stable/Packages/docker-ce-XX.x86_64.rpm
wget<span class="w"> </span>https://download.docker.com/linux/centos/7/x86_64/stable/Packages/docker-ce-cli-XX.x86_64.rpm
wget<span class="w"> </span>https://download.docker.com/linux/centos/7/x86_64/stable/Packages/docker-ce-selinux-XX.noarch.rpm
wget<span class="w"> </span>https://download.docker.com/linux/centos/7/x86_64/stable/Packages/containerd.io-XX.x86_64.rpm
sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>network<span class="w"> </span><span class="c1"># Just for test purposes</span>

sudo<span class="w"> </span>rpm<span class="w"> </span>-i<span class="w"> </span>container-selinux-XX.noarch.rpm
sudo<span class="w"> </span>rpm<span class="w"> </span>-i<span class="w"> </span>docker-ce-20.10.9-3.el7.x86_64.rpm<span class="w"> </span>docker-ce-cli-20.10.9-3.el7.x86_64.rpm<span class="w"> </span>docker-ce-selinux-17.03.3.ce-1.el7.noarch.rpm<span class="w"> </span>containerd.io-1.4.9-3.1.el7.x86_64.rpm<span class="w"> </span>docker-ce-rootless-extras-20.10.9-3.el7.x86_64.rpm<span class="w"> </span>docker-scan-plugin-0.9.0-3.el7.x86_64.rpm
sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>docker
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="midnight-commander">
<h2>Midnight Commander<a class="headerlink" href="#midnight-commander" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">o</span></code></p></td>
<td><p>полноэкранная консоль</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">обратный</span> <span class="pre">слэш</span> <span class="pre">(рядом</span> <span class="pre">c</span> <span class="pre">Enter)</span></code></p></td>
<td><p>меню закладок</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">shift+f6</span></code></p></td>
<td><p>переименовать</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">user:pass&#64;192.168.1.210</span></code></p></td>
<td><p>подключение по FTP</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">shift+f4</span></code></p></td>
<td><p>создать новый файл</p></td>
</tr>
</tbody>
</table>
<section id="id16">
<h3>Редкатор<a class="headerlink" href="#id16" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Shift-Ins</span></code></p></td>
<td><p>вставить текст из буфера</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Shift+F5</span></code></p></td>
<td><p>вставка текста из внутреннего буфера обмена mc</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Shift+Стрелки</span></code></p></td>
<td><p>выделение текста</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="git">
<h2>GIT<a class="headerlink" href="#git" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">init</span></code></p></td>
<td><p>создать локально новый репозиторий</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">init</span> <span class="pre">&lt;directory&gt;</span></code></p></td>
<td><p>cоздание репозитория в указанном каталоге</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">--recurse-submodules</span> <span class="pre">ssh://user&#64;dom.com/repo.git</span></code></p></td>
<td><p>клонировать существующий репозиторий со всеми submodule</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">-c</span> <span class="pre">http.sslVerify=false</span> <span class="pre">clone</span> <span class="pre">https://example.com/path/</span></code></p></td>
<td><p>игнорирование SSL сертификата для текущей операции</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code></p></td>
<td><p>состояние отслеживаемых файлов, <code class="docutils literal notranslate"><span class="pre">-s</span></code> краткий вид</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">&quot;Commit</span> <span class="pre">Comment&quot;</span></code></p></td>
<td><p>коммит с комментарием</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">-A</span></code></p></td>
<td><p>добавить все файлы в stage</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">-p</span> <span class="pre">&lt;файл&gt;</span></code></p></td>
<td><p>добавить файл в stage</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--amend</span></code></p></td>
<td><p>изменение комментария к последнему комииту, если после последнего коммита не было ни каких изменений в рабочем каталоге</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rm</span> <span class="pre">&lt;file_name&gt;</span></code></p></td>
<td><p>удаление файла из отслеживаемых Git, а так же его физическое удаление из рабочего каталога</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rm</span> <span class="pre">-f</span> <span class="pre">&lt;file_name&gt;</span></code></p></td>
<td><p>удаление проиндексированного измененного файла</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rm</span> <span class="pre">—cached</span> <span class="pre">&lt;file_name&gt;</span></code></p></td>
<td><p>удаление файла из индекса, но сохранение его в рабочем каталоге</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code></p></td>
<td><p>показать всю историю коммитов начиная с последних</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span> <span class="pre">-p</span> <span class="pre">&lt;файл&gt;</span></code></p></td>
<td><p>показать историю изменений определенного файла</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">blame</span> <span class="pre">&lt;файл&gt;</span></code></p></td>
<td><p>кто, какие и когда изменения вносил в &lt;файл&gt;</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span> <span class="pre">-2</span></code></p></td>
<td><p>вывод последних n записей, в примере вывод двух последних записей</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span> <span class="pre">--hard</span> <span class="pre">HEAD</span></code></p></td>
<td><p>удалить все локальные изменения в рабочем каталоге</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">HEAD</span> <span class="pre">&lt;файл&gt;</span></code></p></td>
<td><p>удалить локальные изменения в отдельном &lt;файле&gt; (до внесения файла в коммит)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">revert</span> <span class="pre">&lt;коммит&gt;</span></code></p></td>
<td><p>откатить коммит</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span></code></p></td>
<td><p>просмотр удаленных репозиториев <code class="docutils literal notranslate"><span class="pre">-v</span></code> подробнее</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">origin</span> <span class="pre">https://github.com/n0tb0dy/UpRemote.git</span></code></p></td>
<td><p>добавление удаленного репозитория (вместо origin можно задать любое слово)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">master</span></code></p></td>
<td><p>отправка данных на удаленный репозиторий. Формат git push [удал. сервер] [локальная ветка]</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span> <span class="pre">&lt;репо&gt;</span></code></p></td>
<td><p>cкачать все изменения из &lt;remote&gt;, но не интегрировать их в HEAD</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span> <span class="pre">&lt;репо&gt;</span> <span class="pre">&lt;ветка&gt;</span></code></p></td>
<td><p>скачать изменения и сразу слить/интегрировать их в HEAD</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">rename</span> <span class="pre">&lt;old_name&gt;</span> <span class="pre">&lt;new_name&gt;</span></code></p></td>
<td><p>переименование удаленных репозиториев (по существу переименование локальной ссылки на удаленный репозиторий)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">rm</span> <span class="pre">origin</span></code></p></td>
<td><p>удаление удаленного репозитория (попросту отключение от него</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span></code></p></td>
<td><p>посмотреть локальные ветки</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">–v</span></code></p></td>
<td><p>посмотреть последний коммит на каждой из локальных веток</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">&lt;имя_ветки&gt;</span></code></p></td>
<td><p>создать ветку</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">new_branch</span> <span class="pre">5a0eb04</span></code></p></td>
<td><p>создать ветку на определенном коммите</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">-m</span> <span class="pre">&lt;oldname&gt;</span> <span class="pre">&lt;newname&gt;</span></code></p></td>
<td><p>переименовать ветку</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">&lt;имя_ветки&gt;</span></code></p></td>
<td><p>переключится на ветку</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">&lt;имя_ветки&gt;</span></code></p></td>
<td><p>создать ветку и сразу же переключится на нее</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">-d</span> <span class="pre">&lt;имя_ветки&gt;</span></code></p></td>
<td><p>удалить ветку</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">submodule</span> <span class="pre">update</span> <span class="pre">--init</span> <span class="pre">--recursive</span></code></p></td>
<td><p>слить все submodule входящие в проект</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">submodule</span> <span class="pre">add</span> <span class="pre">https://github.com/chaconinc</span></code></p></td>
<td><p>добавить submodeule в репозиторий</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">http.sslVerify</span> <span class="pre">false</span></code></p></td>
<td><p>игнорирование SSL сертификата всегда для этого репозитория</p></td>
</tr>
</tbody>
</table>
<section id="id17">
<h3>GIT рекомендации<a class="headerlink" href="#id17" title="Permalink to this heading"></a></h3>
<p>Типы коммитов:</p>
<ul class="simple">
<li><p><strong>Feat:</strong> новая фича, добавляемая к приложению</p></li>
<li><p><strong>Fix:</strong> исправление бага.</p></li>
<li><p><strong>Style:</strong> функции и обновления, имеющие отношение к стилизации.</p></li>
<li><p><strong>Refactor:</strong> рефакторинг определенного участка кодовой базы.</p></li>
<li><p><strong>Test:</strong> все, что касается тестирования.</p></li>
<li><p><strong>Docs:</strong> все, что касается документации.</p></li>
<li><p><strong>Chore:</strong> любые другие изменения, не затрагивающие код.</p></li>
</ul>
<p>Общие рекомендации:</p>
<ul class="simple">
<li><p>Отделяйте заголовок от тела сообщения пустой строкой.</p></li>
<li><p>Не ставьте точку в конце заголовка.</p></li>
<li><p>Заголовок и каждый отдельный абзац должны начинаться с заглавной буквы.</p></li>
<li><p>Используйте тело сообщения, чтобы описать вносимые изменения и причины этих изменений.</p></li>
</ul>
<p>Шаблон коммита:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>Тип<span class="o">(</span>область<span class="w"> </span>действия<span class="o">)</span>:<span class="w"> </span>Заголовок<span class="w"> </span>до<span class="w"> </span><span class="m">70</span><span class="w"> </span>символов
<span class="linenos">2</span>
<span class="linenos">3</span>Более<span class="w"> </span>детальное<span class="w"> </span>описание<span class="w"> </span>изменений,<span class="w"> </span>если<span class="w"> </span>необходимо
<span class="linenos">4</span>
<span class="linenos">5</span>Описание<span class="w"> </span>проблемы<span class="w"> </span>которую<span class="w"> </span>решает,<span class="w"> </span>если<span class="w"> </span>необходимо
<span class="linenos">6</span>
<span class="linenos">7</span><span class="w"> </span>*<span class="w"> </span>Новый<span class="w"> </span>абзац
<span class="linenos">8</span>
<span class="linenos">9</span><span class="w"> </span>*<span class="w"> </span>Новый<span class="w"> </span>абзац
</pre></div>
</div>
<p>Пример коммита:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>Fix<span class="o">(</span>uart<span class="o">)</span>:<span class="w"> </span>исправлена<span class="w"> </span>работа<span class="w"> </span>uart
<span class="linenos">2</span>
<span class="linenos">3</span>Изменена<span class="w"> </span>скорость<span class="w"> </span>работы<span class="w"> </span>uart
<span class="linenos">4</span>
<span class="linenos">5</span>Приемник<span class="w"> </span>управляется<span class="w"> </span>корректно
<span class="linenos">6</span>
<span class="linenos">7</span><span class="w"> </span>*<span class="w"> </span>Скорость<span class="w"> </span>управляется<span class="w"> </span>параметром<span class="w"> </span>UART_CLK
<span class="linenos">8</span><span class="w"> </span>*
</pre></div>
</div>
</section>
<section id="id18">
<h3>GIT наборы команд<a class="headerlink" href="#id18" title="Permalink to this heading"></a></h3>
<ol class="arabic">
<li><p><strong>Залить все ветки в репозиторий.</strong> Запустить скрипт из корня проекта :download:<code class="docutils literal notranslate"><span class="pre">Скачать</span> <span class="pre">&lt;linux_files/cmd/git/pull_all_branch.sh&gt;</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="ch">#!/bin/bash</span>
<span class="linenos">2</span><span class="k">for</span><span class="w"> </span>branch<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>git<span class="w"> </span>branch<span class="w"> </span>--all<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s1">&#39;^\s*remotes&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>--invert-match<span class="w"> </span><span class="s1">&#39;(:?HEAD|master)$&#39;</span><span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="linenos">3</span><span class="w">    </span>git<span class="w"> </span>branch<span class="w"> </span>--track<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">branch</span><span class="p">##*/</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$branch</span><span class="s2">&quot;</span>
<span class="linenos">4</span><span class="k">done</span>
<span class="linenos">5</span>
<span class="linenos">6</span>git<span class="w"> </span>push<span class="w"> </span>--all<span class="w"> </span>origin<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>--tags
</pre></div>
</div>
</li>
<li><p><strong>Создать новую пустую ветку без истории</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">--orphan</span> <span class="pre">production</span></code> (<code class="docutils literal notranslate"><span class="pre">production</span></code> - имя ветки)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rm</span> <span class="pre">-rf</span> <span class="pre">.</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">.</span></code> (если нужно добавить новые файлы)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--allow-empty</span> <span class="pre">-m</span> <span class="pre">&quot;init</span> <span class="pre">production</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">production</span></code></p></li>
</ul>
</li>
</ol>
</section>
</section>
<section id="wireguard-pivpn">
<h2>WireGuard + PiVPN<a class="headerlink" href="#wireguard-pivpn" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">wg-quick</span> <span class="pre">up</span> <span class="pre">wg0</span></code></p></td>
<td><p>включить VPN</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">wg-quick</span> <span class="pre">down</span> <span class="pre">wg0</span></code></p></td>
<td><p>отключить VPN</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">wg</span> <span class="pre">show</span></code></p></td>
<td><p>статистика клиентов</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pivpn</span> <span class="pre">add</span></code></p></td>
<td><p>добавить пользователя</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pivpn</span> <span class="pre">-r</span></code></p></td>
<td><p>удалить пользователя</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pivpn</span> <span class="pre">-l</span></code></p></td>
<td><p>список пользователей</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pivpn</span> <span class="pre">-qr</span></code></p></td>
<td><p>показать QR код</p></td>
</tr>
</tbody>
</table>
</section>
<section id="virsh-qemu">
<h2>Virsh, QEMU<a class="headerlink" href="#virsh-qemu" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Команда</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">virsh</span> <span class="pre">list</span> <span class="pre">--all</span></code></p></td>
<td><p>Показать все машины</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">virsh</span> <span class="pre">shutdown</span> <span class="pre">NAME</span></code></p></td>
<td><p>отключить штатно машину</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">virsh</span> <span class="pre">start</span> <span class="pre">NAME</span></code></p></td>
<td><p>включить машину</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">virsh</span> <span class="pre">domblklist</span> <span class="pre">NAME</span></code></p></td>
<td><p>информация о диске</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">qemu-img</span> <span class="pre">info</span> <span class="pre">/path/disk.qcow2</span></code></p></td>
<td><p>подробная информация о диске</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">qemu-img</span> <span class="pre">resize</span> <span class="pre">/path/disk.qcow2</span> <span class="pre">+10G</span></code></p></td>
<td><p>Добавить 10G к диску</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">virsh</span> <span class="pre">vncdisplay</span> <span class="pre">NAME</span></code></p></td>
<td><p>Показать порт VNC</p></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Нижняя область">
        <a href="_list.html" class="btn btn-neutral float-left" title="Linux" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Предыдущая</a>
        <a href="manjaro.html" class="btn btn-neutral float-right" title="Manjaro" accesskey="n" rel="next">Следующая <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022.</p>
  </div>

  Собрано при помощи <a href="https://www.sphinx-doc.org/">Sphinx</a> с использованием
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">темы,</a>
    предоставленной <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>